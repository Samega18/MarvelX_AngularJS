<section ng-controller="HomeController as ctrl" ng-init="ctrl.search()">

  <div class="characters-container">

    <categories class="categorieContainerHome" change-search="ctrl.search()"></categories>
    <info-search title="titleCategorie" description="descriptionCategorie"></info-search>

    <form name="search" class="searchContainer">
        <div class="inputGroup">
          
          <input class="searchInput"
            ng-model="ctrl.searchName"
            type="text"
            placeholder="Pesquisar.." 
            ng-keyup="$event.keyCode == 13 && ctrl.search()">
          <button class="searchButton"
            ng-click="ctrl.search()"
            type="button">
            <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
          </button>
          

        </div>
    </form>

    <div ng-if="ctrl.errorView==true"
    style="display: flex;align-items: center;justify-content: center;width: 100%;">
      <div class="alert alert-danger" role="alert" style="width: 80%;">
        <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
        <span class="sr-only">Error:</span>
        Sua pesquisa n√£o foi encontrada
      </div>
    </div>

    <div class="row CardsContainer" ng-if="ctrl.errorView==false">
        
        <span ng-if="ctrl.isLoading">
          <loading></loading>
        </span>

        <span ng-if="categorie=='characters' && ctrl.isLoading==false">
          <div class="col-sx-12 col-sm-4 col-md-2"
          ng-repeat="character in ctrl.characters">
            <card-character character="character" see-details="ctrl.seeDetails(character)"
            ></card-character>
          </div>
        </span>
        
        <span ng-if="categorie=='events' || categorie=='series' || categorie=='comics' && ctrl.isLoading==false">
          <div class="col-sx-12 col-sm-5 col-md-3"
          ng-repeat="character in ctrl.characters">
            <card-others character="character" categorie-local="categorie"
            see-details="ctrl.seeDetails(character)"></card-others>
          </div>
        </span>

    </div>

    <span ng-if="ctrl.isLoading==false && ctrl.errorView==false">
      <div class="col-md-12"
      style="display: flex;align-items: center;justify-content: center;width: 100%;height: 80px;"
      ng-if="ctrl.characters.length <= ctrl.totalItems">
        <button class="btn btn-primary"
          ng-click="ctrl.seeMore()">
          Ver mais
        </button>
      </div>
    </span>
    
  </div>

</section>